<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuantQuest Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script>
</head>
<body class="bg-terraria-darker text-white min-h-screen flex flex-col items-center justify-center">

  <div class="bg-terraria-dark p-8 rounded-lg shadow-lg max-w-md w-full text-center">
    <h1 class="text-3xl font-bold pixel-font text-terraria-green mb-6">Sign in to QuantQuest</h1>
    
    <button id="googleLoginBtn" class="bg-white text-black px-4 py-2 rounded shadow-lg hover:bg-gray-200">
  <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="inline w-6 mr-2" alt="Google" />
  Sign in with Google
</button>
<div class="text-left mt-6">
  <p id="profileXP" class="text-yellow-400">XP: 0</p>
  <p id="profileLevel" class="text-green-400">Level 1</p>
  <p id="profileStreak" class="text-pink-400">Streak: 0üî•</p>
</div>

<div class="mt-6">
  <label class="block text-sm mb-2" for="profileName">Username:</label>
  <input id="profileName" type="text" class="w-full p-2 rounded bg-gray-700 text-white" />
</div>

<div class="mt-4 flex justify-between">
  <button id="saveProfileBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">Save</button>
  <button id="logoutBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded">Logout</button>
</div>

  </div>

 <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";

   const firebaseConfig = {
   apiKey: window.FIREBASE_API_KEY,
     authDomain: "quant-25068.firebaseapp.com",
  projectId: "quant-25068",
  storageBucket: "quant-25068.firebasestorage.app",
  messagingSenderId: "994280892133",
  appId: "1:994280892133:web:d23746af3460f3300f960c",
  measurementId: "G-1G0LNME5GH"
};

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  // P≈ôihl√°≈°en√≠ pomoc√≠ Google (tlaƒç√≠tko nebo automatick√© vol√°n√≠)
  const loginBtn = document.getElementById("googleLoginBtn");

  if (loginBtn) {
    loginBtn.addEventListener("click", async () => {
      try {
        const result = await signInWithPopup(auth, provider);
        const user = result.user;
        console.log("‚úÖ P≈ôihl√°≈°en:", user.displayName);

        // Ulo≈æen√≠ do localStorage
        localStorage.setItem("current_user", user.displayName);

        // P≈ôesmƒõrov√°n√≠ na account
        window.location.href = 'login.html';
      } catch (error) {
        console.error("‚ùå Chyba p≈ôi p≈ôihl√°≈°en√≠:", error.message);
      }
    });
  }
</script>

  <!-- Scripts -->
   <script src="env.js"></script>
  <script type="module" src="script.js"></script>
  <script type="module" src="profile.js"></script>
  
</body>
</html>
